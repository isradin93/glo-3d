(()=>{var e={711:()=>{var e,t,n;e=document.querySelector("menu"),t=document.querySelector(".close-btn"),n=function(){e.classList.toggle("active-menu")},document.addEventListener("click",(function(o){var r=o.target;r===t||r.closest("menu>ul")||r.closest(".menu")?n():r!==e&&e.classList.remove("active-menu")}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(711),t=n.n(e);function o(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}const r=function(){var e=document.querySelectorAll("form"),t=document.querySelectorAll('[data-input="input"]'),n=document.querySelector('[type="tel"]'),r=document.querySelector('[type="email"]'),a=document.querySelector('[type="text"]'),c=document.querySelector('[placeholder="Ваше сообщение"]');n.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^+0-9]/g,"")})),r.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^@a-zA-Z0-9.-_]/g,"")})),a.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-Я ]/g,"")})),c&&c.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-Я0-9 ,.!]/g,"")}));var i=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-type":"application-json"},body:n});case 2:return o=e.sent,e.next=5,o.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();e.forEach((function(e){!function(e){e.addEventListener("submit",(function(n){n.preventDefault();var o=document.createElement("img");o.src="images/form/spinner.svg",o.style.cssText="\n                    display: block;\n                    margin: 0 auto;\n                ",e.append(o);var r=new FormData(e),a=JSON.stringify(Object.fromEntries(r.entries()));i("server.php",a).then((function(e){console.log(e),o.textContent="Спасибо! Скоро мы с вами свяжемся"})).catch((function(){return o.textContent="Что-то пошло не так..."})).finally((function(){t.forEach((function(e){e.value=""})),o.remove()}))}))}(e)}))};window.addEventListener("DOMContentLoaded",(function(){var e,n,o,a,c,i,u,l,s,d,v;v=function(e){return e>=0&&e<10?"0".concat(e):e},function(e,t){var n=document.querySelector(e),o=n.querySelector("#timer-hours"),r=n.querySelector("#timer-minutes"),a=n.querySelector("#timer-seconds"),c=setInterval(i,1e3);function i(){var e=function(e){var t=Date.parse(e)-Date.parse(new Date);return{total:t,seconds:Math.floor(t/1e3%60),minutes:Math.floor(t/1e3/60%60),hours:Math.floor(t/36e5%24)}}(t);o.textContent=v(e.hours),r.textContent=v(e.minutes),a.textContent=v(e.seconds),e.total<=0&&(o.textContent="00",r.textContent="00",a.textContent="00",clearInterval(c))}i()}("#timer","2021-08-29"),t()(),function(e,t,n,o){var r=document.querySelectorAll(e),a=document.querySelector(t),c=document.querySelector(n),i=document.querySelector(o);function u(e){var t=e.timing,n=e.draw,o=e.duration,r=performance.now();requestAnimationFrame((function e(a){var c=(a-r)/o;c>1&&(c=1);var i=t(c);n(i),c<1&&requestAnimationFrame(e)}))}r.forEach((function(e){e.addEventListener("click",(function(e){e.target&&e.preventDefault(),a.style.display="block",c.style.position.left="50%",document.body.style.overflow="hidden",window.innerWidth>768&&(u({duration:500,timing:function(e){return e},draw:function(e){a.style.opacity=e}}),a.style.visibility="visible")}))}));var l=function(){a.style.display="none",c.style.position.left="-50%",document.body.style.overflow=""};i.addEventListener("click",(function(){document.body.style.overflow="",window.innerWidth>768?(window.setTimeout((function(){return a.style.visibility="hidden"}),500),u({duration:500,timing:function(e){return e},draw:function(e){a.style.opacity=1-e}})):l()})),a.addEventListener("click",(function(e){e.target===a&&l()}))}(".popup-btn",".popup",".popup-content",".popup-close"),n=".service-header",o=".service-header-tab",a=".service-tab",c="active",i=document.querySelector(n),u=document.querySelectorAll(o),l=document.querySelectorAll(a),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l[e].style.display="flex",u[e].classList.add(c)},(s=function(){l.forEach((function(e){return e.style.display="none"})),u.forEach((function(e){return e.classList.remove(c)}))})(),d(),i.addEventListener("click",(function(e){var t=e.target;(t&&t.classList.contains(o.replace(/\./,""))||t.parentNode.classList.contains(o.replace(/\./,"")))&&u.forEach((function(e,n){t!==e&&t.parentNode!==e||(s(),d(n))}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots"),r=0;t.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),o.append(e)}));var a=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},u=function(){c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=t.length&&(r=0),i(t,r,"portfolio-item-active"),i(a,r,"dot-active")},l=function(){e=setInterval(u,arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3)};n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(r=t)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),i(t,r,"portfolio-item-active"),i(a,r,"dot-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l()})),l(1500)}(),(e=document.querySelectorAll(".command__photo")).forEach((function(e){e.addEventListener("mouseover",(function(e){var t=[e.target.dataset.img,e.target.src];e.target.src=t[0],e.target.dataset.img=t[1]}))})),e.forEach((function(e){e.addEventListener("mouseout",(function(e){var t=[e.target.src,e.target.dataset.img];e.target.dataset.img=t[0],e.target.src=t[1]}))})),function(e,t,n,o,r,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,i=document.querySelector(e),u=document.querySelector(t),l=document.querySelector(n),s=document.querySelector(o),d=document.querySelector(r),v=document.querySelector(a),f=function(e){var t=document.querySelector(e);t.addEventListener("input",(function(){t.value.match(/\D/g)?t.style.border="2px solid red":t.style.border="1px solid #19b5fe"}))};f(".calc-square"),f(".calc-count"),f(".calc-day");var m=function(){var e=0,t=1,n=1,o=u.options[u.selectedIndex].value,r=+l.value;if(s.value>1&&(t+=(s.value-1)/10),d.value&&d.value<5?n*=2:d.value&&d.value<10&&(n*=1.5),o&&r){e=c*o*r*t*n;var a,i=0;a=requestAnimationFrame((function t(){a=requestAnimationFrame(t),(i+=e/20)<e?v.textContent=Math.round(i):(cancelAnimationFrame(a),v.textContent=e,i=0)}))}};i.addEventListener("change",(function(e){var t=e.target;(t&&t===u||t===l||t===s||t===d)&&m()}))}(".calc-block",".calc-type",".calc-square",".calc-count",".calc-day","#total",100),r()}))})()})();