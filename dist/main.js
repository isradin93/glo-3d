(()=>{var e={657:()=>{(()=>{const e=document.querySelector("menu"),t=document.querySelector(".close-btn");document.addEventListener("click",(o=>{const n=o.target;n===t||n.closest("menu>ul")||n.closest(".menu")?e.classList.toggle("active-menu"):n!==e&&e.classList.remove("active-menu")}))})()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(657),t=o.n(e);const n=()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll('[data-input="input"]'),o=document.querySelector('[type="tel"]'),n=document.querySelector('[type="email"]'),r=document.querySelector('[type="text"]'),c=document.querySelector('[placeholder="Ваше сообщение"]');o.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^+0-9]/g,"")})),n.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^@a-zA-Z0-9.-_]/g,"")})),r.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^а-яА-Я ]/g,"")})),c&&c.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^а-яА-Я0-9 ,.!]/g,"")}));e.forEach((e=>{(e=>{e.addEventListener("submit",(o=>{o.preventDefault();const n=document.createElement("img");n.src="images/form/spinner.svg",n.style.cssText="\n                    display: block;\n                    margin: 0 auto;\n                ",e.append(n);const r=new FormData(e);(async(e,t)=>{const o=await fetch("server.php",{method:"POST",headers:{"Content-type":"application-json"},body:t});return await o.json()})(0,JSON.stringify(Object.fromEntries(r.entries()))).then((e=>{console.log(e),n.textContent="Спасибо! Скоро мы с вами свяжемся"})).catch((()=>n.textContent="Что-то пошло не так...")).finally((()=>{t.forEach((e=>{e.value=""})),n.remove()}))}))})(e)}))};window.addEventListener("DOMContentLoaded",(()=>{((e,t)=>{const o=e=>e>=0&&e<10?`0${e}`:e;((e,t)=>{const n=document.querySelector(e),r=n.querySelector("#timer-hours"),c=n.querySelector("#timer-minutes"),a=n.querySelector("#timer-seconds"),l=setInterval(s,1e3);function s(){const e=(e=>{const t=Date.parse(e)-Date.parse(new Date);return{total:t,seconds:Math.floor(t/1e3%60),minutes:Math.floor(t/1e3/60%60),hours:Math.floor(t/36e5%24)}})(t);r.textContent=o(e.hours),c.textContent=o(e.minutes),a.textContent=o(e.seconds),e.total<=0&&(r.textContent="00",c.textContent="00",a.textContent="00",clearInterval(l))}s()})(e,t)})("#timer","2021-08-29"),t()(),((e,t,o,n)=>{const r=document.querySelectorAll(e),c=document.querySelector(t),a=document.querySelector(o),l=document.querySelector(n);function s({timing:e,draw:t,duration:o}){const n=performance.now();requestAnimationFrame((function r(c){let a=(c-n)/o;a>1&&(a=1);const l=e(a);t(l),a<1&&requestAnimationFrame(r)}))}r.forEach((e=>{e.addEventListener("click",(e=>{e.target&&e.preventDefault(),c.style.display="block",a.style.position.left="50%",document.body.style.overflow="hidden",window.innerWidth>768&&(s({duration:500,timing:e=>e,draw(e){c.style.opacity=e}}),c.style.visibility="visible")}))}));const i=()=>{c.style.display="none",a.style.position.left="-50%",document.body.style.overflow=""};l.addEventListener("click",(()=>{document.body.style.overflow="",window.innerWidth>768?(window.setTimeout((()=>c.style.visibility="hidden"),500),s({duration:500,timing:e=>e,draw(e){c.style.opacity=1-e}})):i()})),c.addEventListener("click",(e=>{e.target===c&&i()}))})(".popup-btn",".popup",".popup-content",".popup-close"),((e,t,o,n)=>{const r=document.querySelector(e),c=document.querySelectorAll(t),a=document.querySelectorAll(o),l=()=>{a.forEach((e=>e.style.display="none")),c.forEach((e=>e.classList.remove(n)))},s=(e=0)=>{a[e].style.display="flex",c[e].classList.add(n)};l(),s(),r.addEventListener("click",(e=>{const o=e.target;(o&&o.classList.contains(t.replace(/\./,""))||o.parentNode.classList.contains(t.replace(/\./,"")))&&c.forEach(((e,t)=>{o!==e&&o.parentNode!==e||(l(),s(t))}))}))})(".service-header",".service-header-tab",".service-tab","active"),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots");let n,r=0;e.forEach((()=>{const e=document.createElement("li");e.classList.add("dot"),o.append(e)}));const c=document.querySelectorAll(".dot"),a=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},s=()=>{a(e,r,"portfolio-item-active"),a(c,r,"dot-active"),r++,r>=e.length&&(r=0),l(e,r,"portfolio-item-active"),l(c,r,"dot-active")},i=(e=3e3)=>{n=setInterval(s,e)};t.addEventListener("click",(t=>{t.preventDefault();const o=t.target;o.matches(".portfolio-btn, .dot")&&(a(e,r,"portfolio-item-active"),a(c,r,"dot-active"),o.matches("#arrow-right")?r++:o.matches("#arrow-left")?r--:o.matches(".dot")&&c.forEach(((e,t)=>{e===o&&(r=t)})),r>=e.length&&(r=0),r<0&&(r=e.length-1),l(e,r,"portfolio-item-active"),l(c,r,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),t.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)})(),(()=>{const e=document.querySelectorAll(".command__photo");e.forEach((e=>{e.addEventListener("mouseover",(e=>{[e.target.src,e.target.dataset.img]=[e.target.dataset.img,e.target.src]}))})),e.forEach((e=>{e.addEventListener("mouseout",(e=>{[e.target.dataset.img,e.target.src]=[e.target.src,e.target.dataset.img]}))}))})(),((e,t,o,n,r,c,a=100)=>{const l=document.querySelector(e),s=document.querySelector(t),i=document.querySelector(o),d=document.querySelector(n),u=document.querySelector(r),m=document.querySelector(c),p=e=>{const t=document.querySelector(e);t.addEventListener("input",(()=>{t.value.match(/\D/g)?t.style.border="2px solid red":t.style.border="1px solid #19b5fe"}))};p(".calc-square"),p(".calc-count"),p(".calc-day"),l.addEventListener("change",(e=>{const t=e.target;(t&&t===s||t===i||t===d||t===u)&&(()=>{let e=0,t=1,o=1;const n=s.options[s.selectedIndex].value,r=+i.value;if(d.value>1&&(t+=(d.value-1)/10),u.value&&u.value<5?o*=2:u.value&&u.value<10&&(o*=1.5),n&&r){e=a*n*r*t*o;let c,l=0;const s=()=>{c=requestAnimationFrame(s),l+=e/20,l<e?m.textContent=Math.round(l):(cancelAnimationFrame(c),m.textContent=e,l=0)};c=requestAnimationFrame(s)}})()}))})(".calc-block",".calc-type",".calc-square",".calc-count",".calc-day","#total",100),n()}))})()})();